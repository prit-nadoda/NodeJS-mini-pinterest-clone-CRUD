<!-- 
Enjoy the code <3
-->

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href=" /stylesheets/profile.css">
  <script src="/javascripts/profile.js"></script>
</head>

<body>

  <div class="user-header-wrapper">
    <div class="user-header-inner">
      <div class="uh-left">
        <div class="uh-image">
          <img class="uh-image-inner" src="https://i.imgur.com/Qv1WDJq.jpg" alt="">
        </div>
      </div>
      <div class="uh-right">
        <div class="user-info">
          <h3><%=user.fullname%></h3>
          <a href="/editprofile" class="btn">Edit Profile</a>
          <a href="/logout" class="btn">Logout</a>
        </div>
        <div class=user-links>
          <a><span>0</span> Posts</a>
          <a><span>0</span> Likes</a>
        </div>
        <div class="fullname">
          <p class="user-bio-name">@<%=user.username%></p>
        </div>
      </div>
    </div>
  </div>

  </div>


  <hr>
  <div class="title-content">
    <h4 class="title"><strong>Posts</strong></h4><a href="#" class="btnpost">+</a>
  </div>
  <hr>
  <div class="container mt-3 my-3">

    <form action="/createpost" method="post" enctype="multipart/form-data">

      <div class="form-group">
        <div class="input-group shadow">
          <input name="image" type="file" class="form-control imgUpload">
          <input name="posttext" type="text" class="form-control form-control-lg" placeholder="Caption">
          <button class="btnbrowse px-4" type="submit"><i class="fas fa-image"></i>Upload</button>
        </div>
      </div>
    </form>
  </div>
  
  
  <div class="gallery-container">
    <div class="grid-container" id="gridContainer">
      <!-- Add your posts dynamically here using JavaScript -->
      <!-- Example post -->
      <% user.post.forEach(function(post) { %>
        <div class="grid-item">
        <img src="/images/uploads/<%=post.image%>" alt="Post Image">
        <div class="overlay">
          <p class="username"><%=user.username%></p>
          <button class="save-btn">Save</button>
          <div class="like-container">
            <span class="like-icon">❤️</span>
            <p class="like-count"><%= post.likes.length%></p>
          </div>
          <p class="post-text"><%=post.postText%></p>
        </div>
      </div>       
      <% })%>
      


    </div>

  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>